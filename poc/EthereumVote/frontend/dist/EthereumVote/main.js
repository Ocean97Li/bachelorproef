(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "../backend/build/contracts/Election.json":
/*!************************************************!*\
  !*** ../backend/build/contracts/Election.json ***!
  \************************************************/
/*! exports provided: contractName, abi, metadata, bytecode, deployedBytecode, sourceMap, deployedSourceMap, source, sourcePath, ast, legacyAST, compiler, networks, schemaVersion, updatedAt, devdoc, userdoc, default */
/***/ (function(module) {

module.exports = {"contractName":"Election","abi":[{"constant":true,"inputs":[],"name":"chack","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"candidatesCounter","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"candidates","outputs":[{"name":"id","type":"uint256"},{"name":"name","type":"string"},{"name":"votes","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"inputKey","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"check","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"votedVoters","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"registeredVoters","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"votingKeys","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"constant":false,"inputs":[{"name":"_candidateId","type":"uint256"},{"name":"_key","type":"string"}],"name":"vote","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"hasRegistered","outputs":[{"name":"registered","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"hasVoted","outputs":[{"name":"voted","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isAdmin","outputs":[{"name":"wasAdmin","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_key","type":"bytes32"}],"name":"register","outputs":[],"payable":true,"stateMutability":"payable","type":"function"}],"metadata":"{\"compiler\":{\"version\":\"0.5.8+commit.23d335f2\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"constant\":false,\"inputs\":[{\"name\":\"_candidateId\",\"type\":\"uint256\"},{\"name\":\"_key\",\"type\":\"string\"}],\"name\":\"vote\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"chack\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"candidatesCounter\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"candidates\",\"outputs\":[{\"name\":\"id\",\"type\":\"uint256\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"votes\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"hasVoted\",\"outputs\":[{\"name\":\"voted\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"inputKey\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"hasRegistered\",\"outputs\":[{\"name\":\"registered\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"check\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"votedVoters\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"registeredVoters\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isAdmin\",\"outputs\":[{\"name\":\"wasAdmin\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"votingKeys\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_key\",\"type\":\"bytes32\"}],\"name\":\"register\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}],\"devdoc\":{\"methods\":{}},\"userdoc\":{\"methods\":{}}},\"settings\":{\"compilationTarget\":{\"/Users/ahmedmuzher/bachelorproef/poc/EthereumVote/backend/contracts/Election.sol\":\"Election\"},\"evmVersion\":\"petersburg\",\"libraries\":{},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"/Users/ahmedmuzher/bachelorproef/poc/EthereumVote/backend/contracts/Election.sol\":{\"keccak256\":\"0x9b8458b717350c6763c296840651a4a0e711405e8f58cba352abae8da34d32fb\",\"urls\":[\"bzzr://b3623890706480a63cdbdc329628084eed9fe49eec83c1a471170bd755abc35f\"]}},\"version\":1}","bytecode":"0x60806040523480156200001157600080fd5b50620000586040518060400160405280600381526020017f5965730000000000000000000000000000000000000000000000000000000000815250620000e460201b60201c565b6200009e6040518060400160405280600281526020017f4e6f000000000000000000000000000000000000000000000000000000000000815250620000e460201b60201c565b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555062000351565b620000f533620001e660201b60201c565b62000168576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b600760008154809291906001019190505550604051806060016040528060075481526020018281526020016000815250600160006007548152602001908152602001600020600082015181600001556020820151816001019080519060200190620001d5929190620002a2565b506040820151816002015590505050565b60006001600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205411156200023b57600090506200029d565b600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16156200029857600090506200029d565b600190505b919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620002e557805160ff191683800117855562000316565b8280016001018555821562000316579182015b8281111562000315578251825591602001919060010190620002f8565b5b50905062000325919062000329565b5090565b6200034e91905b808211156200034a57600081600090555060010162000330565b5090565b90565b610f1380620003616000396000f3fe6080604052600436106100dd5760003560e01c8063919840ad1161007f578063b6db75a011610059578063b6db75a0146104aa578063cbebcbbc146104d9578063e1fa8e841461053e578063f851a4401461056c576100dd565b8063919840ad146103ad578063a3d45314146103d8578063a9ff6df114610441576100dd565b80633477ee2e116100bb5780633477ee2e146101fd57806364821338146102bf578063665396b8146102ee578063877a2a911461037e576100dd565b806324108475146100e25780632f9b26bf146101a757806333ec9316146101d2575b600080fd5b6101a5600480360360408110156100f857600080fd5b81019080803590602001909291908035906020019064010000000081111561011f57600080fd5b82018360208201111561013157600080fd5b8035906020019184600183028401116401000000008311171561015357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506105c3565b005b3480156101b357600080fd5b506101bc610822565b6040518082815260200191505060405180910390f35b3480156101de57600080fd5b506101e7610828565b6040518082815260200191505060405180910390f35b34801561020957600080fd5b506102366004803603602081101561022057600080fd5b810190808035906020019092919050505061082e565b6040518084815260200180602001838152602001828103825284818151815260200191508051906020019080838360005b83811015610282578082015181840152602081019050610267565b50505050905090810190601f1680156102af5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390f35b3480156102cb57600080fd5b506102d46108f0565b604051808215151515815260200191505060405180910390f35b3480156102fa57600080fd5b506103036109c6565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610343578082015181840152602081019050610328565b50505050905090810190601f1680156103705780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561038a57600080fd5b50610393610a64565b604051808215151515815260200191505060405180910390f35b3480156103b957600080fd5b506103c2610b3a565b6040518082815260200191505060405180910390f35b3480156103e457600080fd5b50610427600480360360208110156103fb57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b40565b604051808215151515815260200191505060405180910390f35b34801561044d57600080fd5b506104906004803603602081101561046457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b60565b604051808215151515815260200191505060405180910390f35b3480156104b657600080fd5b506104bf610b80565b604051808215151515815260200191505060405180910390f35b3480156104e557600080fd5b50610528600480360360208110156104fc57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610c52565b6040518082815260200191505060405180910390f35b61056a6004803603602081101561055457600080fd5b8101908080359060200190929190505050610c6a565b005b34801561057857600080fd5b50610581610e0a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6105cc33610e2f565b61063e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161580156106e15750600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b1561081e57600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054816040516020018082805190602001908083835b6020831061075d578051825260208201915060208101905060208303925061073a565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405160208183030381529060405280519060200120141561081d576001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555060016000838152602001908152602001600020600201600081548092919060010191905055505b5b5050565b60095481565b60075481565b6001602052806000526040600020600091509050806000015490806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108e05780601f106108b5576101008083540402835291602001916108e0565b820191906000526020600020905b8154815290600101906020018083116108c357829003601f168201915b5050505050908060020154905083565b60006108fb33610e2f565b61096d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b60011515600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16151514905090565b600a8054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610a5c5780601f10610a3157610100808354040283529160200191610a5c565b820191906000526020600020905b815481529060010190602001808311610a3f57829003601f168201915b505050505081565b6000610a6f33610e2f565b610ae1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b60011515600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16151514905090565b60085481565b60026020528060005260406000206000915054906101000a900460ff1681565b60036020528060005260406000206000915054906101000a900460ff1681565b6000610b8b33610e2f565b610bfd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b60046020528060005260406000206000915090505481565b610c7333610e2f565b610ce5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b6001600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205401600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555080600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60006001600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541115610e825760009050610ee2565b600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615610edd5760009050610ee2565b600190505b91905056fea165627a7a72305820ef8cf916943c7f3e59d2cbae579167e823b06e6eac4cd81557f16742e3e83a780029","deployedBytecode":"0x6080604052600436106100dd5760003560e01c8063919840ad1161007f578063b6db75a011610059578063b6db75a0146104aa578063cbebcbbc146104d9578063e1fa8e841461053e578063f851a4401461056c576100dd565b8063919840ad146103ad578063a3d45314146103d8578063a9ff6df114610441576100dd565b80633477ee2e116100bb5780633477ee2e146101fd57806364821338146102bf578063665396b8146102ee578063877a2a911461037e576100dd565b806324108475146100e25780632f9b26bf146101a757806333ec9316146101d2575b600080fd5b6101a5600480360360408110156100f857600080fd5b81019080803590602001909291908035906020019064010000000081111561011f57600080fd5b82018360208201111561013157600080fd5b8035906020019184600183028401116401000000008311171561015357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506105c3565b005b3480156101b357600080fd5b506101bc610822565b6040518082815260200191505060405180910390f35b3480156101de57600080fd5b506101e7610828565b6040518082815260200191505060405180910390f35b34801561020957600080fd5b506102366004803603602081101561022057600080fd5b810190808035906020019092919050505061082e565b6040518084815260200180602001838152602001828103825284818151815260200191508051906020019080838360005b83811015610282578082015181840152602081019050610267565b50505050905090810190601f1680156102af5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390f35b3480156102cb57600080fd5b506102d46108f0565b604051808215151515815260200191505060405180910390f35b3480156102fa57600080fd5b506103036109c6565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610343578082015181840152602081019050610328565b50505050905090810190601f1680156103705780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561038a57600080fd5b50610393610a64565b604051808215151515815260200191505060405180910390f35b3480156103b957600080fd5b506103c2610b3a565b6040518082815260200191505060405180910390f35b3480156103e457600080fd5b50610427600480360360208110156103fb57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b40565b604051808215151515815260200191505060405180910390f35b34801561044d57600080fd5b506104906004803603602081101561046457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b60565b604051808215151515815260200191505060405180910390f35b3480156104b657600080fd5b506104bf610b80565b604051808215151515815260200191505060405180910390f35b3480156104e557600080fd5b50610528600480360360208110156104fc57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610c52565b6040518082815260200191505060405180910390f35b61056a6004803603602081101561055457600080fd5b8101908080359060200190929190505050610c6a565b005b34801561057857600080fd5b50610581610e0a565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6105cc33610e2f565b61063e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161580156106e15750600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b1561081e57600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054816040516020018082805190602001908083835b6020831061075d578051825260208201915060208101905060208303925061073a565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405160208183030381529060405280519060200120141561081d576001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555060016000838152602001908152602001600020600201600081548092919060010191905055505b5b5050565b60095481565b60075481565b6001602052806000526040600020600091509050806000015490806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108e05780601f106108b5576101008083540402835291602001916108e0565b820191906000526020600020905b8154815290600101906020018083116108c357829003601f168201915b5050505050908060020154905083565b60006108fb33610e2f565b61096d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b60011515600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16151514905090565b600a8054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610a5c5780601f10610a3157610100808354040283529160200191610a5c565b820191906000526020600020905b815481529060010190602001808311610a3f57829003601f168201915b505050505081565b6000610a6f33610e2f565b610ae1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b60011515600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16151514905090565b60085481565b60026020528060005260406000206000915054906101000a900460ff1681565b60036020528060005260406000206000915054906101000a900460ff1681565b6000610b8b33610e2f565b610bfd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614905090565b60046020528060005260406000206000915090505481565b610c7333610e2f565b610ce5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f53656e646572206e6f7420686f6e65737421000000000000000000000000000081525060200191505060405180910390fd5b6001600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205401600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555080600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60006001600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541115610e825760009050610ee2565b600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615610edd5760009050610ee2565b600190505b91905056fea165627a7a72305820ef8cf916943c7f3e59d2cbae579167e823b06e6eac4cd81557f16742e3e83a780029","sourceMap":"25:2722:0:-;;;862:112;8:9:-1;5:2;;;30:1;27;20:12;5:2;862:112:0;894:18;;;;;;;;;;;;;;;;;;:11;;;:18;;:::i;:::-;922:17;;;;;;;;;;;;;;;;;;:11;;;:17;;:::i;:::-;957:10;949:5;;:18;;;;;;;;;;;;;;;;;;25:2722;;1267:175;1172:27;1188:10;1172:15;;;:27;;:::i;:::-;1151:92;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1338:17;;:19;;;;;;;;;;;;;1399:36;;;;;;;;1409:17;;1399:36;;;;1427:5;1399:36;;;;1433:1;1399:36;;;1367:10;:29;1378:17;;1367:29;;;;;;;;;;;:68;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;1267:175;:::o;2499:245::-;2563:7;2610:1;2585:15;:24;2601:7;2585:24;;;;;;;;;;;;;;;;:26;2582:68;;;2634:5;2627:12;;;;2582:68;2662:7;:16;2670:7;2662:16;;;;;;;;;;;;;;;;;;;;;;;;;2659:58;;;2701:5;2694:12;;;;2659:58;2733:4;2726:11;;2499:245;;;;:::o;25:2722::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;","deployedSourceMap":"25:2722:0:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1448:445;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1448:445:0;;;;;;;;;;;;;;;;;;;21:11:-1;8;5:28;2:2;;;46:1;43;36:12;2:2;1448:445:0;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;1448:445:0;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;1448:445:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;1448:445:0;;;;;;;;;;;;;;;:::i;:::-;;788:20;;8:9:-1;5:2;;;30:1;27;20:12;5:2;788:20:0;;;:::i;:::-;;;;;;;;;;;;;;;;;;;722:29;;8:9:-1;5:2;;;30:1;27;20:12;5:2;722:29:0;;;:::i;:::-;;;;;;;;;;;;;;;;;;;240:44;;8:9:-1;5:2;;;30:1;27;20:12;5:2;240:44:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;240:44:0;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;99:1;94:3;90:11;84:18;80:1;75:3;71:11;64:39;52:2;49:1;45:10;40:15;;8:100;;;12:14;240:44:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2037:117;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2037:117:0;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;814:22;;8:9:-1;5:2;;;30:1;27;20:12;5:2;814:22:0;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;99:1;94:3;90:11;84:18;80:1;75:3;71:11;64:39;52:2;49:1;45:10;40:15;;8:100;;;12:14;814:22:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1899:132;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1899:132:0;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;762:20;;8:9:-1;5:2;;;30:1;27;20:12;5:2;762:20:0;;;:::i;:::-;;;;;;;;;;;;;;;;;;;328:43;;8:9:-1;5:2;;;30:1;27;20:12;5:2;328:43:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;328:43:0;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;420:48;;8:9:-1;5:2;;;30:1;27;20:12;5:2;420:48:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;420:48:0;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;2160:109;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2160:109:0;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;505:45;;8:9:-1;5:2;;;30:1;27;20:12;5:2;505:45:0;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;505:45:0;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;2275:218;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;2275:218:0;;;;;;;;;;;;;;;;;:::i;:::-;;67:20;;8:9:-1;5:2;;;30:1;27;20:12;5:2;67:20:0;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;1448:445;1172:27;1188:10;1172:15;:27::i;:::-;1151:92;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1542:11;:23;1554:10;1542:23;;;;;;;;;;;;;;;;;;;;;;;;;1541:24;:56;;;;;1569:16;:28;1586:10;1569:28;;;;;;;;;;;;;;;;;;;;;;;;;1541:56;1537:350;;;1651:10;:22;1662:10;1651:22;;;;;;;;;;;;;;;;1643:4;1626:22;;;;;;;;;;;;;;;36:153:-1;66:2;61:3;58:11;36:153;;182:3;176:10;171:3;164:23;98:2;93:3;89:12;82:19;;123:2;118:3;114:12;107:19;;148:2;143:3;139:12;132:19;;36:153;;;274:1;267:3;263:2;259:12;254:3;250:22;246:30;315:4;311:9;305:3;299:10;295:26;356:4;350:3;344:10;340:21;389:7;380;377:20;372:3;365:33;3:399;;;1626:22:0;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;1626:22:0;;;1616:33;;;;;;:57;1613:264;;;1761:4;1735:11;:23;1747:10;1735:23;;;;;;;;;;;;;;;;:30;;;;;;;;;;;;;;;;;;1830:10;:24;1841:12;1830:24;;;;;;;;;;;:30;;;:32;;;;;;;;;;;;;1613:264;1537:350;1448:445;;:::o;788:20::-;;;;:::o;722:29::-;;;;:::o;240:44::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;2037:117::-;2089:10;1172:27;1188:10;1172:15;:27::i;:::-;1151:92;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2143:4;2118:29;;:11;:23;2130:10;2118:23;;;;;;;;;;;;;;;;;;;;;;;;;:29;;;2111:36;;2037:117;:::o;814:22::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;1899:132::-;1956:15;1172:27;1188:10;1172:15;:27::i;:::-;1151:92;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2020:4;1990:34;;:16;:28;2007:10;1990:28;;;;;;;;;;;;;;;;;;;;;;;;;:34;;;1983:41;;1899:132;:::o;762:20::-;;;;:::o;328:43::-;;;;;;;;;;;;;;;;;;;;;;:::o;420:48::-;;;;;;;;;;;;;;;;;;;;;;:::o;2160:109::-;2211:13;1172:27;1188:10;1172:15;:27::i;:::-;1151:92;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2257:5;;;;;;;;;;;2243:19;;:10;:19;;;2236:26;;2160:109;:::o;505:45::-;;;;;;;;;;;;;;;;;:::o;2275:218::-;1172:27;1188:10;1172:15;:27::i;:::-;1151:92;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2401:1;2373:15;:27;2389:10;2373:27;;;;;;;;;;;;;;;;:29;2343:15;:27;2359:10;2343:27;;;;;;;;;;;;;;;:59;;;;2437:4;2412:10;:22;2423:10;2412:22;;;;;;;;;;;;;;;:29;;;;2482:4;2451:16;:28;2468:10;2451:28;;;;;;;;;;;;;;;;:35;;;;;;;;;;;;;;;;;;2275:218;:::o;67:20::-;;;;;;;;;;;;;:::o;2499:245::-;2563:7;2610:1;2585:15;:24;2601:7;2585:24;;;;;;;;;;;;;;;;:26;2582:68;;;2634:5;2627:12;;;;2582:68;2662:7;:16;2670:7;2662:16;;;;;;;;;;;;;;;;;;;;;;;;;2659:58;;;2701:5;2694:12;;;;2659:58;2733:4;2726:11;;2499:245;;;;:::o","source":"pragma solidity ^0.5.8;\n\ncontract Election {\n    // The admin \n    address public admin;\n    \n    // Store candidate\n    struct Candidate {\n        uint id;\n        string name;\n        uint votes;\n    }\n    \n    //Fetch the candidates\n    mapping(uint => Candidate) public candidates;\n    // Store accounts that have voted\n    mapping(address => bool) public votedVoters;\n    // Store accounts that have registered\n    mapping(address => bool) public registeredVoters;\n    // Registered voters keys\n     mapping(address => bytes32) public votingKeys;\n     // Key attempts\n     mapping(address => uint) private keyAttempVoters;\n    // Read candidate\n    mapping(address => bool) private strikes;\n    // Read candidate\n    uint public candidatesCounter;\n    \n    bytes32 public check;\n    bytes32 public chack;\n    string public inputKey;\n\n    // Constructor\n    constructor () public {\n        addCadidate(\"Yes\");\n        addCadidate(\"No\");\n        admin = msg.sender;\n    }\n\n    modifier onlyAdmin {\n        require(\n            msg.sender == admin,\n            \"Sender not authorized.\"\n        );\n        _;\n    }\n\n    modifier honestUser {\n        require(\n            checkForStrikes(msg.sender),\n            \"Sender not honest!\"\n        );\n        _;\n    }\n\n    function addCadidate(string memory _name) honestUser private {\n        candidatesCounter++;\n        candidates[candidatesCounter] = Candidate(candidatesCounter,_name,0);\n    }\n\n    function vote(uint _candidateId, string memory _key) public payable honestUser {\n        if (!votedVoters[msg.sender] && registeredVoters[msg.sender]) {\n            if(keccak256(abi.encodePacked(_key))==votingKeys[msg.sender]) {\n                // Record voter has voted\n                votedVoters[msg.sender] = true;\n                // Update candidate vote count\n                candidates[_candidateId].votes++;\n            }\n        }\n    }\n\n    function hasRegistered() honestUser public view returns (bool registered) {\n        return registeredVoters[msg.sender]==true;\n    }\n\n    function hasVoted() honestUser public view returns (bool voted) {\n        return votedVoters[msg.sender]==true;\n    }\n\n    function isAdmin() honestUser public view returns (bool wasAdmin) {\n        return msg.sender == admin;\n    }\n\n    function register(bytes32 _key) public payable honestUser {\n        keyAttempVoters[msg.sender] = keyAttempVoters[msg.sender]+1;\n        votingKeys[msg.sender] = _key;\n        registeredVoters[msg.sender] = true;\n    }\n\n    function checkForStrikes(address _sender) private view returns (bool ok) {\n        if(keyAttempVoters[_sender]>1) {\n            return false;\n        }\n        if(strikes[_sender]) {\n            return false;\n        }\n        return true;\n    }\n\n}\n  ","sourcePath":"/Users/ahmedmuzher/bachelorproef/poc/EthereumVote/backend/contracts/Election.sol","ast":{"absolutePath":"/Users/ahmedmuzher/bachelorproef/poc/EthereumVote/backend/contracts/Election.sol","exportedSymbols":{"Election":[256]},"id":257,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.5",".8"],"nodeType":"PragmaDirective","src":"0:23:0"},{"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":256,"linearizedBaseContracts":[256],"name":"Election","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":3,"name":"admin","nodeType":"VariableDeclaration","scope":256,"src":"67:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2,"name":"address","nodeType":"ElementaryTypeName","src":"67:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"public"},{"canonicalName":"Election.Candidate","id":10,"members":[{"constant":false,"id":5,"name":"id","nodeType":"VariableDeclaration","scope":10,"src":"148:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4,"name":"uint","nodeType":"ElementaryTypeName","src":"148:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":7,"name":"name","nodeType":"VariableDeclaration","scope":10,"src":"165:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":6,"name":"string","nodeType":"ElementaryTypeName","src":"165:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"},{"constant":false,"id":9,"name":"votes","nodeType":"VariableDeclaration","scope":10,"src":"186:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8,"name":"uint","nodeType":"ElementaryTypeName","src":"186:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"name":"Candidate","nodeType":"StructDefinition","scope":256,"src":"121:82:0","visibility":"public"},{"constant":false,"id":14,"name":"candidates","nodeType":"VariableDeclaration","scope":256,"src":"240:44:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Candidate_$10_storage_$","typeString":"mapping(uint256 => struct Election.Candidate)"},"typeName":{"id":13,"keyType":{"id":11,"name":"uint","nodeType":"ElementaryTypeName","src":"248:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"240:26:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Candidate_$10_storage_$","typeString":"mapping(uint256 => struct Election.Candidate)"},"valueType":{"contractScope":null,"id":12,"name":"Candidate","nodeType":"UserDefinedTypeName","referencedDeclaration":10,"src":"256:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_storage_ptr","typeString":"struct Election.Candidate"}}},"value":null,"visibility":"public"},{"constant":false,"id":18,"name":"votedVoters","nodeType":"VariableDeclaration","scope":256,"src":"328:43:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":17,"keyType":{"id":15,"name":"address","nodeType":"ElementaryTypeName","src":"336:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"328:24:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":16,"name":"bool","nodeType":"ElementaryTypeName","src":"347:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"public"},{"constant":false,"id":22,"name":"registeredVoters","nodeType":"VariableDeclaration","scope":256,"src":"420:48:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":21,"keyType":{"id":19,"name":"address","nodeType":"ElementaryTypeName","src":"428:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"420:24:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":20,"name":"bool","nodeType":"ElementaryTypeName","src":"439:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"public"},{"constant":false,"id":26,"name":"votingKeys","nodeType":"VariableDeclaration","scope":256,"src":"505:45:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bytes32_$","typeString":"mapping(address => bytes32)"},"typeName":{"id":25,"keyType":{"id":23,"name":"address","nodeType":"ElementaryTypeName","src":"513:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"505:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bytes32_$","typeString":"mapping(address => bytes32)"},"valueType":{"id":24,"name":"bytes32","nodeType":"ElementaryTypeName","src":"524:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},"value":null,"visibility":"public"},{"constant":false,"id":30,"name":"keyAttempVoters","nodeType":"VariableDeclaration","scope":256,"src":"578:48:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":29,"keyType":{"id":27,"name":"address","nodeType":"ElementaryTypeName","src":"586:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"578:24:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueType":{"id":28,"name":"uint","nodeType":"ElementaryTypeName","src":"597:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"value":null,"visibility":"private"},{"constant":false,"id":34,"name":"strikes","nodeType":"VariableDeclaration","scope":256,"src":"654:40:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":33,"keyType":{"id":31,"name":"address","nodeType":"ElementaryTypeName","src":"662:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"654:24:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":32,"name":"bool","nodeType":"ElementaryTypeName","src":"673:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"private"},{"constant":false,"id":36,"name":"candidatesCounter","nodeType":"VariableDeclaration","scope":256,"src":"722:29:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35,"name":"uint","nodeType":"ElementaryTypeName","src":"722:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":38,"name":"check","nodeType":"VariableDeclaration","scope":256,"src":"762:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":37,"name":"bytes32","nodeType":"ElementaryTypeName","src":"762:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"public"},{"constant":false,"id":40,"name":"chack","nodeType":"VariableDeclaration","scope":256,"src":"788:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39,"name":"bytes32","nodeType":"ElementaryTypeName","src":"788:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"public"},{"constant":false,"id":42,"name":"inputKey","nodeType":"VariableDeclaration","scope":256,"src":"814:22:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string"},"typeName":{"id":41,"name":"string","nodeType":"ElementaryTypeName","src":"814:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"public"},{"body":{"id":58,"nodeType":"Block","src":"884:90:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"596573","id":46,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"906:5:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_84e4f592e52dc6e339ebb9a3f379f4dcf988a1253042a8ba9f03099551864bf0","typeString":"literal_string \"Yes\""},"value":"Yes"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_84e4f592e52dc6e339ebb9a3f379f4dcf988a1253042a8ba9f03099551864bf0","typeString":"literal_string \"Yes\""}],"id":45,"name":"addCadidate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"894:11:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory)"}},"id":47,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"894:18:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48,"nodeType":"ExpressionStatement","src":"894:18:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"4e6f","id":50,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"934:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_267aa6f4694ec65b4167a753966ad7f8f38d1152f8a81ccf0d941bd0680eb852","typeString":"literal_string \"No\""},"value":"No"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_267aa6f4694ec65b4167a753966ad7f8f38d1152f8a81ccf0d941bd0680eb852","typeString":"literal_string \"No\""}],"id":49,"name":"addCadidate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"922:11:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory)"}},"id":51,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"922:17:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52,"nodeType":"ExpressionStatement","src":"922:17:0"},{"expression":{"argumentTypes":null,"id":56,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":53,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3,"src":"949:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":54,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"957:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":55,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"957:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"949:18:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":57,"nodeType":"ExpressionStatement","src":"949:18:0"}]},"documentation":null,"id":59,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":43,"nodeType":"ParameterList","parameters":[],"src":"874:2:0"},"returnParameters":{"id":44,"nodeType":"ParameterList","parameters":[],"src":"884:0:0"},"scope":256,"src":"862:112:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":70,"nodeType":"Block","src":"999:116:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":65,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":62,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1030:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":63,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1030:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":64,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3,"src":"1044:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1030:19:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"53656e646572206e6f7420617574686f72697a65642e","id":66,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1063:24:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_fecfa93da3bfbc5d9ecf62a2ecd3bca847c5dad14f588ad8fef4719729dd5f22","typeString":"literal_string \"Sender not authorized.\""},"value":"Sender not authorized."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_fecfa93da3bfbc5d9ecf62a2ecd3bca847c5dad14f588ad8fef4719729dd5f22","typeString":"literal_string \"Sender not authorized.\""}],"id":61,"name":"require","nodeType":"Identifier","overloadedDeclarations":[331,332],"referencedDeclaration":332,"src":"1009:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":67,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1009:88:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":68,"nodeType":"ExpressionStatement","src":"1009:88:0"},{"id":69,"nodeType":"PlaceholderStatement","src":"1107:1:0"}]},"documentation":null,"id":71,"name":"onlyAdmin","nodeType":"ModifierDefinition","parameters":{"id":60,"nodeType":"ParameterList","parameters":[],"src":"999:0:0"},"src":"980:135:0","visibility":"internal"},{"body":{"id":82,"nodeType":"Block","src":"1141:120:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":75,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1188:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":76,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1188:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":74,"name":"checkForStrikes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":255,"src":"1172:15:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view returns (bool)"}},"id":77,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1172:27:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"53656e646572206e6f7420686f6e65737421","id":78,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1213:20:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_fb8330b8ac298a5a24c8a47e061d770697e8497409c6ec5cc1ae9a2bb2103df6","typeString":"literal_string \"Sender not honest!\""},"value":"Sender not honest!"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_fb8330b8ac298a5a24c8a47e061d770697e8497409c6ec5cc1ae9a2bb2103df6","typeString":"literal_string \"Sender not honest!\""}],"id":73,"name":"require","nodeType":"Identifier","overloadedDeclarations":[331,332],"referencedDeclaration":332,"src":"1151:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":79,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1151:92:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80,"nodeType":"ExpressionStatement","src":"1151:92:0"},{"id":81,"nodeType":"PlaceholderStatement","src":"1253:1:0"}]},"documentation":null,"id":83,"name":"honestUser","nodeType":"ModifierDefinition","parameters":{"id":72,"nodeType":"ParameterList","parameters":[],"src":"1141:0:0"},"src":"1121:140:0","visibility":"internal"},{"body":{"id":103,"nodeType":"Block","src":"1328:114:0","statements":[{"expression":{"argumentTypes":null,"id":91,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1338:19:0","subExpression":{"argumentTypes":null,"id":90,"name":"candidatesCounter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"1338:17:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":92,"nodeType":"ExpressionStatement","src":"1338:19:0"},{"expression":{"argumentTypes":null,"id":101,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":93,"name":"candidates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14,"src":"1367:10:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Candidate_$10_storage_$","typeString":"mapping(uint256 => struct Election.Candidate storage ref)"}},"id":95,"indexExpression":{"argumentTypes":null,"id":94,"name":"candidatesCounter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"1378:17:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1367:29:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_storage","typeString":"struct Election.Candidate storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":97,"name":"candidatesCounter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"1409:17:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":98,"name":"_name","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":85,"src":"1427:5:0","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},{"argumentTypes":null,"hexValue":"30","id":99,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1433:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":96,"name":"Candidate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10,"src":"1399:9:0","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Candidate_$10_storage_ptr_$","typeString":"type(struct Election.Candidate storage pointer)"}},"id":100,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1399:36:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_memory","typeString":"struct Election.Candidate memory"}},"src":"1367:68:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_storage","typeString":"struct Election.Candidate storage ref"}},"id":102,"nodeType":"ExpressionStatement","src":"1367:68:0"}]},"documentation":null,"id":104,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":88,"modifierName":{"argumentTypes":null,"id":87,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"1309:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"1309:10:0"}],"name":"addCadidate","nodeType":"FunctionDefinition","parameters":{"id":86,"nodeType":"ParameterList","parameters":[{"constant":false,"id":85,"name":"_name","nodeType":"VariableDeclaration","scope":104,"src":"1288:19:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":84,"name":"string","nodeType":"ElementaryTypeName","src":"1288:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"1287:21:0"},"returnParameters":{"id":89,"nodeType":"ParameterList","parameters":[],"src":"1328:0:0"},"scope":256,"src":"1267:175:0","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":151,"nodeType":"Block","src":"1527:366:0","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":122,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"1541:24:0","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":113,"name":"votedVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18,"src":"1542:11:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":116,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":114,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1554:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":115,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1554:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1542:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":118,"name":"registeredVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22,"src":"1569:16:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":121,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":119,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1586:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1586:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1569:28:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1541:56:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":150,"nodeType":"IfStatement","src":"1537:350:0","trueBody":{"id":149,"nodeType":"Block","src":"1599:288:0","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":133,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":126,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":108,"src":"1643:4:0","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"expression":{"argumentTypes":null,"id":124,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"1626:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":125,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1626:16:0","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":127,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1626:22:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":123,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":322,"src":"1616:9:0","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":128,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1616:33:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":129,"name":"votingKeys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26,"src":"1651:10:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bytes32_$","typeString":"mapping(address => bytes32)"}},"id":132,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":130,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1662:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":131,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1662:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1651:22:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"1616:57:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":148,"nodeType":"IfStatement","src":"1613:264:0","trueBody":{"id":147,"nodeType":"Block","src":"1675:202:0","statements":[{"expression":{"argumentTypes":null,"id":139,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":134,"name":"votedVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18,"src":"1735:11:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":137,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":135,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1747:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":136,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1747:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1735:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":138,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1761:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"1735:30:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":140,"nodeType":"ExpressionStatement","src":"1735:30:0"},{"expression":{"argumentTypes":null,"id":145,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1830:32:0","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":141,"name":"candidates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14,"src":"1830:10:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Candidate_$10_storage_$","typeString":"mapping(uint256 => struct Election.Candidate storage ref)"}},"id":143,"indexExpression":{"argumentTypes":null,"id":142,"name":"_candidateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":106,"src":"1841:12:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1830:24:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_storage","typeString":"struct Election.Candidate storage ref"}},"id":144,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"votes","nodeType":"MemberAccess","referencedDeclaration":9,"src":"1830:30:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":146,"nodeType":"ExpressionStatement","src":"1830:32:0"}]}}]}}]},"documentation":null,"id":152,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":111,"modifierName":{"argumentTypes":null,"id":110,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"1516:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"1516:10:0"}],"name":"vote","nodeType":"FunctionDefinition","parameters":{"id":109,"nodeType":"ParameterList","parameters":[{"constant":false,"id":106,"name":"_candidateId","nodeType":"VariableDeclaration","scope":152,"src":"1462:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":105,"name":"uint","nodeType":"ElementaryTypeName","src":"1462:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":108,"name":"_key","nodeType":"VariableDeclaration","scope":152,"src":"1481:18:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":107,"name":"string","nodeType":"ElementaryTypeName","src":"1481:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"1461:39:0"},"returnParameters":{"id":112,"nodeType":"ParameterList","parameters":[],"src":"1527:0:0"},"scope":256,"src":"1448:445:0","stateMutability":"payable","superFunction":null,"visibility":"public"},{"body":{"id":166,"nodeType":"Block","src":"1973:58:0","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":164,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":159,"name":"registeredVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22,"src":"1990:16:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":162,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":160,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2007:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2007:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1990:28:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"74727565","id":163,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2020:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"1990:34:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":158,"id":165,"nodeType":"Return","src":"1983:41:0"}]},"documentation":null,"id":167,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":155,"modifierName":{"argumentTypes":null,"id":154,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"1924:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"1924:10:0"}],"name":"hasRegistered","nodeType":"FunctionDefinition","parameters":{"id":153,"nodeType":"ParameterList","parameters":[],"src":"1921:2:0"},"returnParameters":{"id":158,"nodeType":"ParameterList","parameters":[{"constant":false,"id":157,"name":"registered","nodeType":"VariableDeclaration","scope":167,"src":"1956:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":156,"name":"bool","nodeType":"ElementaryTypeName","src":"1956:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"1955:17:0"},"scope":256,"src":"1899:132:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":181,"nodeType":"Block","src":"2101:53:0","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":179,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":174,"name":"votedVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18,"src":"2118:11:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":177,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":175,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2130:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":176,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2130:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2118:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"74727565","id":178,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2143:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"2118:29:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":173,"id":180,"nodeType":"Return","src":"2111:36:0"}]},"documentation":null,"id":182,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":170,"modifierName":{"argumentTypes":null,"id":169,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"2057:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2057:10:0"}],"name":"hasVoted","nodeType":"FunctionDefinition","parameters":{"id":168,"nodeType":"ParameterList","parameters":[],"src":"2054:2:0"},"returnParameters":{"id":173,"nodeType":"ParameterList","parameters":[{"constant":false,"id":172,"name":"voted","nodeType":"VariableDeclaration","scope":182,"src":"2089:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":171,"name":"bool","nodeType":"ElementaryTypeName","src":"2089:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2088:12:0"},"scope":256,"src":"2037:117:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":194,"nodeType":"Block","src":"2226:43:0","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":192,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":189,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2243:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":190,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2243:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":191,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3,"src":"2257:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2243:19:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":188,"id":193,"nodeType":"Return","src":"2236:26:0"}]},"documentation":null,"id":195,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":185,"modifierName":{"argumentTypes":null,"id":184,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"2179:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2179:10:0"}],"name":"isAdmin","nodeType":"FunctionDefinition","parameters":{"id":183,"nodeType":"ParameterList","parameters":[],"src":"2176:2:0"},"returnParameters":{"id":188,"nodeType":"ParameterList","parameters":[{"constant":false,"id":187,"name":"wasAdmin","nodeType":"VariableDeclaration","scope":195,"src":"2211:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":186,"name":"bool","nodeType":"ElementaryTypeName","src":"2211:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2210:15:0"},"scope":256,"src":"2160:109:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":228,"nodeType":"Block","src":"2333:160:0","statements":[{"expression":{"argumentTypes":null,"id":212,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":202,"name":"keyAttempVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30,"src":"2343:15:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":205,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":203,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2359:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":204,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2359:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2343:27:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":206,"name":"keyAttempVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30,"src":"2373:15:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":209,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":207,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2389:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":208,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2389:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2373:27:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":210,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2401:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2373:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2343:59:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":213,"nodeType":"ExpressionStatement","src":"2343:59:0"},{"expression":{"argumentTypes":null,"id":219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":214,"name":"votingKeys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26,"src":"2412:10:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bytes32_$","typeString":"mapping(address => bytes32)"}},"id":217,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":215,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2423:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":216,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2423:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2412:22:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":218,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"2437:4:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2412:29:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":220,"nodeType":"ExpressionStatement","src":"2412:29:0"},{"expression":{"argumentTypes":null,"id":226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":221,"name":"registeredVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22,"src":"2451:16:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":224,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":222,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2468:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2468:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2451:28:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":225,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2482:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"2451:35:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":227,"nodeType":"ExpressionStatement","src":"2451:35:0"}]},"documentation":null,"id":229,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":200,"modifierName":{"argumentTypes":null,"id":199,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"2322:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2322:10:0"}],"name":"register","nodeType":"FunctionDefinition","parameters":{"id":198,"nodeType":"ParameterList","parameters":[{"constant":false,"id":197,"name":"_key","nodeType":"VariableDeclaration","scope":229,"src":"2293:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":196,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2293:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"2292:14:0"},"returnParameters":{"id":201,"nodeType":"ParameterList","parameters":[],"src":"2333:0:0"},"scope":256,"src":"2275:218:0","stateMutability":"payable","superFunction":null,"visibility":"public"},{"body":{"id":254,"nodeType":"Block","src":"2572:172:0","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":240,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":236,"name":"keyAttempVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30,"src":"2585:15:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":238,"indexExpression":{"argumentTypes":null,"id":237,"name":"_sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":231,"src":"2601:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2585:24:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"31","id":239,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2610:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2585:26:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":244,"nodeType":"IfStatement","src":"2582:68:0","trueBody":{"id":243,"nodeType":"Block","src":"2613:37:0","statements":[{"expression":{"argumentTypes":null,"hexValue":"66616c7365","id":241,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2634:5:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":235,"id":242,"nodeType":"Return","src":"2627:12:0"}]}},{"condition":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":245,"name":"strikes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34,"src":"2662:7:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":247,"indexExpression":{"argumentTypes":null,"id":246,"name":"_sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":231,"src":"2670:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2662:16:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":251,"nodeType":"IfStatement","src":"2659:58:0","trueBody":{"id":250,"nodeType":"Block","src":"2680:37:0","statements":[{"expression":{"argumentTypes":null,"hexValue":"66616c7365","id":248,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2701:5:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":235,"id":249,"nodeType":"Return","src":"2694:12:0"}]}},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":252,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2733:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":235,"id":253,"nodeType":"Return","src":"2726:11:0"}]},"documentation":null,"id":255,"implemented":true,"kind":"function","modifiers":[],"name":"checkForStrikes","nodeType":"FunctionDefinition","parameters":{"id":232,"nodeType":"ParameterList","parameters":[{"constant":false,"id":231,"name":"_sender","nodeType":"VariableDeclaration","scope":255,"src":"2524:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":230,"name":"address","nodeType":"ElementaryTypeName","src":"2524:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2523:17:0"},"returnParameters":{"id":235,"nodeType":"ParameterList","parameters":[{"constant":false,"id":234,"name":"ok","nodeType":"VariableDeclaration","scope":255,"src":"2563:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":233,"name":"bool","nodeType":"ElementaryTypeName","src":"2563:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2562:9:0"},"scope":256,"src":"2499:245:0","stateMutability":"view","superFunction":null,"visibility":"private"}],"scope":257,"src":"25:2722:0"}],"src":"0:2750:0"},"legacyAST":{"absolutePath":"/Users/ahmedmuzher/bachelorproef/poc/EthereumVote/backend/contracts/Election.sol","exportedSymbols":{"Election":[256]},"id":257,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.5",".8"],"nodeType":"PragmaDirective","src":"0:23:0"},{"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":256,"linearizedBaseContracts":[256],"name":"Election","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":3,"name":"admin","nodeType":"VariableDeclaration","scope":256,"src":"67:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2,"name":"address","nodeType":"ElementaryTypeName","src":"67:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"public"},{"canonicalName":"Election.Candidate","id":10,"members":[{"constant":false,"id":5,"name":"id","nodeType":"VariableDeclaration","scope":10,"src":"148:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4,"name":"uint","nodeType":"ElementaryTypeName","src":"148:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":7,"name":"name","nodeType":"VariableDeclaration","scope":10,"src":"165:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":6,"name":"string","nodeType":"ElementaryTypeName","src":"165:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"},{"constant":false,"id":9,"name":"votes","nodeType":"VariableDeclaration","scope":10,"src":"186:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":8,"name":"uint","nodeType":"ElementaryTypeName","src":"186:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"name":"Candidate","nodeType":"StructDefinition","scope":256,"src":"121:82:0","visibility":"public"},{"constant":false,"id":14,"name":"candidates","nodeType":"VariableDeclaration","scope":256,"src":"240:44:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Candidate_$10_storage_$","typeString":"mapping(uint256 => struct Election.Candidate)"},"typeName":{"id":13,"keyType":{"id":11,"name":"uint","nodeType":"ElementaryTypeName","src":"248:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"240:26:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Candidate_$10_storage_$","typeString":"mapping(uint256 => struct Election.Candidate)"},"valueType":{"contractScope":null,"id":12,"name":"Candidate","nodeType":"UserDefinedTypeName","referencedDeclaration":10,"src":"256:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_storage_ptr","typeString":"struct Election.Candidate"}}},"value":null,"visibility":"public"},{"constant":false,"id":18,"name":"votedVoters","nodeType":"VariableDeclaration","scope":256,"src":"328:43:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":17,"keyType":{"id":15,"name":"address","nodeType":"ElementaryTypeName","src":"336:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"328:24:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":16,"name":"bool","nodeType":"ElementaryTypeName","src":"347:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"public"},{"constant":false,"id":22,"name":"registeredVoters","nodeType":"VariableDeclaration","scope":256,"src":"420:48:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":21,"keyType":{"id":19,"name":"address","nodeType":"ElementaryTypeName","src":"428:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"420:24:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":20,"name":"bool","nodeType":"ElementaryTypeName","src":"439:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"public"},{"constant":false,"id":26,"name":"votingKeys","nodeType":"VariableDeclaration","scope":256,"src":"505:45:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bytes32_$","typeString":"mapping(address => bytes32)"},"typeName":{"id":25,"keyType":{"id":23,"name":"address","nodeType":"ElementaryTypeName","src":"513:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"505:27:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bytes32_$","typeString":"mapping(address => bytes32)"},"valueType":{"id":24,"name":"bytes32","nodeType":"ElementaryTypeName","src":"524:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},"value":null,"visibility":"public"},{"constant":false,"id":30,"name":"keyAttempVoters","nodeType":"VariableDeclaration","scope":256,"src":"578:48:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":29,"keyType":{"id":27,"name":"address","nodeType":"ElementaryTypeName","src":"586:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"578:24:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueType":{"id":28,"name":"uint","nodeType":"ElementaryTypeName","src":"597:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"value":null,"visibility":"private"},{"constant":false,"id":34,"name":"strikes","nodeType":"VariableDeclaration","scope":256,"src":"654:40:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":33,"keyType":{"id":31,"name":"address","nodeType":"ElementaryTypeName","src":"662:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"654:24:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":32,"name":"bool","nodeType":"ElementaryTypeName","src":"673:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"private"},{"constant":false,"id":36,"name":"candidatesCounter","nodeType":"VariableDeclaration","scope":256,"src":"722:29:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":35,"name":"uint","nodeType":"ElementaryTypeName","src":"722:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":38,"name":"check","nodeType":"VariableDeclaration","scope":256,"src":"762:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":37,"name":"bytes32","nodeType":"ElementaryTypeName","src":"762:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"public"},{"constant":false,"id":40,"name":"chack","nodeType":"VariableDeclaration","scope":256,"src":"788:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":39,"name":"bytes32","nodeType":"ElementaryTypeName","src":"788:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"public"},{"constant":false,"id":42,"name":"inputKey","nodeType":"VariableDeclaration","scope":256,"src":"814:22:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string"},"typeName":{"id":41,"name":"string","nodeType":"ElementaryTypeName","src":"814:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"public"},{"body":{"id":58,"nodeType":"Block","src":"884:90:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"596573","id":46,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"906:5:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_84e4f592e52dc6e339ebb9a3f379f4dcf988a1253042a8ba9f03099551864bf0","typeString":"literal_string \"Yes\""},"value":"Yes"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_84e4f592e52dc6e339ebb9a3f379f4dcf988a1253042a8ba9f03099551864bf0","typeString":"literal_string \"Yes\""}],"id":45,"name":"addCadidate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"894:11:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory)"}},"id":47,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"894:18:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":48,"nodeType":"ExpressionStatement","src":"894:18:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"4e6f","id":50,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"934:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_267aa6f4694ec65b4167a753966ad7f8f38d1152f8a81ccf0d941bd0680eb852","typeString":"literal_string \"No\""},"value":"No"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_267aa6f4694ec65b4167a753966ad7f8f38d1152f8a81ccf0d941bd0680eb852","typeString":"literal_string \"No\""}],"id":49,"name":"addCadidate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"922:11:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory)"}},"id":51,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"922:17:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52,"nodeType":"ExpressionStatement","src":"922:17:0"},{"expression":{"argumentTypes":null,"id":56,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":53,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3,"src":"949:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":54,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"957:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":55,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"957:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"949:18:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":57,"nodeType":"ExpressionStatement","src":"949:18:0"}]},"documentation":null,"id":59,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":43,"nodeType":"ParameterList","parameters":[],"src":"874:2:0"},"returnParameters":{"id":44,"nodeType":"ParameterList","parameters":[],"src":"884:0:0"},"scope":256,"src":"862:112:0","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":70,"nodeType":"Block","src":"999:116:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":65,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":62,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1030:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":63,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1030:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":64,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3,"src":"1044:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1030:19:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"53656e646572206e6f7420617574686f72697a65642e","id":66,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1063:24:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_fecfa93da3bfbc5d9ecf62a2ecd3bca847c5dad14f588ad8fef4719729dd5f22","typeString":"literal_string \"Sender not authorized.\""},"value":"Sender not authorized."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_fecfa93da3bfbc5d9ecf62a2ecd3bca847c5dad14f588ad8fef4719729dd5f22","typeString":"literal_string \"Sender not authorized.\""}],"id":61,"name":"require","nodeType":"Identifier","overloadedDeclarations":[331,332],"referencedDeclaration":332,"src":"1009:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":67,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1009:88:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":68,"nodeType":"ExpressionStatement","src":"1009:88:0"},{"id":69,"nodeType":"PlaceholderStatement","src":"1107:1:0"}]},"documentation":null,"id":71,"name":"onlyAdmin","nodeType":"ModifierDefinition","parameters":{"id":60,"nodeType":"ParameterList","parameters":[],"src":"999:0:0"},"src":"980:135:0","visibility":"internal"},{"body":{"id":82,"nodeType":"Block","src":"1141:120:0","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":75,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1188:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":76,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1188:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":74,"name":"checkForStrikes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":255,"src":"1172:15:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$_t_bool_$","typeString":"function (address) view returns (bool)"}},"id":77,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1172:27:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"53656e646572206e6f7420686f6e65737421","id":78,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1213:20:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_fb8330b8ac298a5a24c8a47e061d770697e8497409c6ec5cc1ae9a2bb2103df6","typeString":"literal_string \"Sender not honest!\""},"value":"Sender not honest!"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_fb8330b8ac298a5a24c8a47e061d770697e8497409c6ec5cc1ae9a2bb2103df6","typeString":"literal_string \"Sender not honest!\""}],"id":73,"name":"require","nodeType":"Identifier","overloadedDeclarations":[331,332],"referencedDeclaration":332,"src":"1151:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":79,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1151:92:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80,"nodeType":"ExpressionStatement","src":"1151:92:0"},{"id":81,"nodeType":"PlaceholderStatement","src":"1253:1:0"}]},"documentation":null,"id":83,"name":"honestUser","nodeType":"ModifierDefinition","parameters":{"id":72,"nodeType":"ParameterList","parameters":[],"src":"1141:0:0"},"src":"1121:140:0","visibility":"internal"},{"body":{"id":103,"nodeType":"Block","src":"1328:114:0","statements":[{"expression":{"argumentTypes":null,"id":91,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1338:19:0","subExpression":{"argumentTypes":null,"id":90,"name":"candidatesCounter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"1338:17:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":92,"nodeType":"ExpressionStatement","src":"1338:19:0"},{"expression":{"argumentTypes":null,"id":101,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":93,"name":"candidates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14,"src":"1367:10:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Candidate_$10_storage_$","typeString":"mapping(uint256 => struct Election.Candidate storage ref)"}},"id":95,"indexExpression":{"argumentTypes":null,"id":94,"name":"candidatesCounter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"1378:17:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1367:29:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_storage","typeString":"struct Election.Candidate storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":97,"name":"candidatesCounter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36,"src":"1409:17:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":98,"name":"_name","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":85,"src":"1427:5:0","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},{"argumentTypes":null,"hexValue":"30","id":99,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1433:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":96,"name":"Candidate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10,"src":"1399:9:0","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Candidate_$10_storage_ptr_$","typeString":"type(struct Election.Candidate storage pointer)"}},"id":100,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1399:36:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_memory","typeString":"struct Election.Candidate memory"}},"src":"1367:68:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_storage","typeString":"struct Election.Candidate storage ref"}},"id":102,"nodeType":"ExpressionStatement","src":"1367:68:0"}]},"documentation":null,"id":104,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":88,"modifierName":{"argumentTypes":null,"id":87,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"1309:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"1309:10:0"}],"name":"addCadidate","nodeType":"FunctionDefinition","parameters":{"id":86,"nodeType":"ParameterList","parameters":[{"constant":false,"id":85,"name":"_name","nodeType":"VariableDeclaration","scope":104,"src":"1288:19:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":84,"name":"string","nodeType":"ElementaryTypeName","src":"1288:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"1287:21:0"},"returnParameters":{"id":89,"nodeType":"ParameterList","parameters":[],"src":"1328:0:0"},"scope":256,"src":"1267:175:0","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":151,"nodeType":"Block","src":"1527:366:0","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":122,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"1541:24:0","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":113,"name":"votedVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18,"src":"1542:11:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":116,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":114,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1554:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":115,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1554:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1542:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":118,"name":"registeredVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22,"src":"1569:16:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":121,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":119,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1586:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1586:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1569:28:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1541:56:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":150,"nodeType":"IfStatement","src":"1537:350:0","trueBody":{"id":149,"nodeType":"Block","src":"1599:288:0","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":133,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":126,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":108,"src":"1643:4:0","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"expression":{"argumentTypes":null,"id":124,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":315,"src":"1626:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":125,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1626:16:0","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":127,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1626:22:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":123,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":322,"src":"1616:9:0","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":128,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1616:33:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":129,"name":"votingKeys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26,"src":"1651:10:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bytes32_$","typeString":"mapping(address => bytes32)"}},"id":132,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":130,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1662:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":131,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1662:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1651:22:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"1616:57:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":148,"nodeType":"IfStatement","src":"1613:264:0","trueBody":{"id":147,"nodeType":"Block","src":"1675:202:0","statements":[{"expression":{"argumentTypes":null,"id":139,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":134,"name":"votedVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18,"src":"1735:11:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":137,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":135,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"1747:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":136,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1747:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1735:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":138,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1761:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"1735:30:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":140,"nodeType":"ExpressionStatement","src":"1735:30:0"},{"expression":{"argumentTypes":null,"id":145,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1830:32:0","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":141,"name":"candidates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14,"src":"1830:10:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Candidate_$10_storage_$","typeString":"mapping(uint256 => struct Election.Candidate storage ref)"}},"id":143,"indexExpression":{"argumentTypes":null,"id":142,"name":"_candidateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":106,"src":"1841:12:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1830:24:0","typeDescriptions":{"typeIdentifier":"t_struct$_Candidate_$10_storage","typeString":"struct Election.Candidate storage ref"}},"id":144,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"votes","nodeType":"MemberAccess","referencedDeclaration":9,"src":"1830:30:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":146,"nodeType":"ExpressionStatement","src":"1830:32:0"}]}}]}}]},"documentation":null,"id":152,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":111,"modifierName":{"argumentTypes":null,"id":110,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"1516:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"1516:10:0"}],"name":"vote","nodeType":"FunctionDefinition","parameters":{"id":109,"nodeType":"ParameterList","parameters":[{"constant":false,"id":106,"name":"_candidateId","nodeType":"VariableDeclaration","scope":152,"src":"1462:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":105,"name":"uint","nodeType":"ElementaryTypeName","src":"1462:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":108,"name":"_key","nodeType":"VariableDeclaration","scope":152,"src":"1481:18:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":107,"name":"string","nodeType":"ElementaryTypeName","src":"1481:6:0","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"1461:39:0"},"returnParameters":{"id":112,"nodeType":"ParameterList","parameters":[],"src":"1527:0:0"},"scope":256,"src":"1448:445:0","stateMutability":"payable","superFunction":null,"visibility":"public"},{"body":{"id":166,"nodeType":"Block","src":"1973:58:0","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":164,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":159,"name":"registeredVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22,"src":"1990:16:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":162,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":160,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2007:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2007:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1990:28:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"74727565","id":163,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2020:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"1990:34:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":158,"id":165,"nodeType":"Return","src":"1983:41:0"}]},"documentation":null,"id":167,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":155,"modifierName":{"argumentTypes":null,"id":154,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"1924:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"1924:10:0"}],"name":"hasRegistered","nodeType":"FunctionDefinition","parameters":{"id":153,"nodeType":"ParameterList","parameters":[],"src":"1921:2:0"},"returnParameters":{"id":158,"nodeType":"ParameterList","parameters":[{"constant":false,"id":157,"name":"registered","nodeType":"VariableDeclaration","scope":167,"src":"1956:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":156,"name":"bool","nodeType":"ElementaryTypeName","src":"1956:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"1955:17:0"},"scope":256,"src":"1899:132:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":181,"nodeType":"Block","src":"2101:53:0","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":179,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":174,"name":"votedVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18,"src":"2118:11:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":177,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":175,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2130:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":176,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2130:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2118:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"74727565","id":178,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2143:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"2118:29:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":173,"id":180,"nodeType":"Return","src":"2111:36:0"}]},"documentation":null,"id":182,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":170,"modifierName":{"argumentTypes":null,"id":169,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"2057:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2057:10:0"}],"name":"hasVoted","nodeType":"FunctionDefinition","parameters":{"id":168,"nodeType":"ParameterList","parameters":[],"src":"2054:2:0"},"returnParameters":{"id":173,"nodeType":"ParameterList","parameters":[{"constant":false,"id":172,"name":"voted","nodeType":"VariableDeclaration","scope":182,"src":"2089:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":171,"name":"bool","nodeType":"ElementaryTypeName","src":"2089:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2088:12:0"},"scope":256,"src":"2037:117:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":194,"nodeType":"Block","src":"2226:43:0","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":192,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":189,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2243:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":190,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2243:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":191,"name":"admin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3,"src":"2257:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2243:19:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":188,"id":193,"nodeType":"Return","src":"2236:26:0"}]},"documentation":null,"id":195,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":185,"modifierName":{"argumentTypes":null,"id":184,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"2179:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2179:10:0"}],"name":"isAdmin","nodeType":"FunctionDefinition","parameters":{"id":183,"nodeType":"ParameterList","parameters":[],"src":"2176:2:0"},"returnParameters":{"id":188,"nodeType":"ParameterList","parameters":[{"constant":false,"id":187,"name":"wasAdmin","nodeType":"VariableDeclaration","scope":195,"src":"2211:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":186,"name":"bool","nodeType":"ElementaryTypeName","src":"2211:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2210:15:0"},"scope":256,"src":"2160:109:0","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":228,"nodeType":"Block","src":"2333:160:0","statements":[{"expression":{"argumentTypes":null,"id":212,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":202,"name":"keyAttempVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30,"src":"2343:15:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":205,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":203,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2359:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":204,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2359:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2343:27:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":206,"name":"keyAttempVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30,"src":"2373:15:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":209,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":207,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2389:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":208,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2389:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2373:27:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":210,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2401:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2373:29:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2343:59:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":213,"nodeType":"ExpressionStatement","src":"2343:59:0"},{"expression":{"argumentTypes":null,"id":219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":214,"name":"votingKeys","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26,"src":"2412:10:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bytes32_$","typeString":"mapping(address => bytes32)"}},"id":217,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":215,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2423:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":216,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2423:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2412:22:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":218,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":197,"src":"2437:4:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2412:29:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":220,"nodeType":"ExpressionStatement","src":"2412:29:0"},{"expression":{"argumentTypes":null,"id":226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":221,"name":"registeredVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":22,"src":"2451:16:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":224,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":222,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":328,"src":"2468:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2468:10:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2451:28:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":225,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2482:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"2451:35:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":227,"nodeType":"ExpressionStatement","src":"2451:35:0"}]},"documentation":null,"id":229,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":200,"modifierName":{"argumentTypes":null,"id":199,"name":"honestUser","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":83,"src":"2322:10:0","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2322:10:0"}],"name":"register","nodeType":"FunctionDefinition","parameters":{"id":198,"nodeType":"ParameterList","parameters":[{"constant":false,"id":197,"name":"_key","nodeType":"VariableDeclaration","scope":229,"src":"2293:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":196,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2293:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"2292:14:0"},"returnParameters":{"id":201,"nodeType":"ParameterList","parameters":[],"src":"2333:0:0"},"scope":256,"src":"2275:218:0","stateMutability":"payable","superFunction":null,"visibility":"public"},{"body":{"id":254,"nodeType":"Block","src":"2572:172:0","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":240,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":236,"name":"keyAttempVoters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":30,"src":"2585:15:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":238,"indexExpression":{"argumentTypes":null,"id":237,"name":"_sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":231,"src":"2601:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2585:24:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"31","id":239,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2610:1:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2585:26:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":244,"nodeType":"IfStatement","src":"2582:68:0","trueBody":{"id":243,"nodeType":"Block","src":"2613:37:0","statements":[{"expression":{"argumentTypes":null,"hexValue":"66616c7365","id":241,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2634:5:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":235,"id":242,"nodeType":"Return","src":"2627:12:0"}]}},{"condition":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":245,"name":"strikes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34,"src":"2662:7:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":247,"indexExpression":{"argumentTypes":null,"id":246,"name":"_sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":231,"src":"2670:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2662:16:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":251,"nodeType":"IfStatement","src":"2659:58:0","trueBody":{"id":250,"nodeType":"Block","src":"2680:37:0","statements":[{"expression":{"argumentTypes":null,"hexValue":"66616c7365","id":248,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2701:5:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":235,"id":249,"nodeType":"Return","src":"2694:12:0"}]}},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":252,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2733:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":235,"id":253,"nodeType":"Return","src":"2726:11:0"}]},"documentation":null,"id":255,"implemented":true,"kind":"function","modifiers":[],"name":"checkForStrikes","nodeType":"FunctionDefinition","parameters":{"id":232,"nodeType":"ParameterList","parameters":[{"constant":false,"id":231,"name":"_sender","nodeType":"VariableDeclaration","scope":255,"src":"2524:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":230,"name":"address","nodeType":"ElementaryTypeName","src":"2524:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2523:17:0"},"returnParameters":{"id":235,"nodeType":"ParameterList","parameters":[{"constant":false,"id":234,"name":"ok","nodeType":"VariableDeclaration","scope":255,"src":"2563:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":233,"name":"bool","nodeType":"ElementaryTypeName","src":"2563:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2562:9:0"},"scope":256,"src":"2499:245:0","stateMutability":"view","superFunction":null,"visibility":"private"}],"scope":257,"src":"25:2722:0"}],"src":"0:2750:0"},"compiler":{"name":"solc","version":"0.5.8+commit.23d335f2.Emscripten.clang"},"networks":{"5777":{"events":{},"links":{},"address":"0xa2FCEaa7BE2951a1a9b61e2e9C5CfCe7e49B1215","transactionHash":"0x5c98ac74471fc9f36a63387641bde95af6c0d5530db8781d6919d22ace99baab"}},"schemaVersion":"3.0.10","updatedAt":"2019-07-01T09:50:23.536Z","devdoc":{"methods":{}},"userdoc":{"methods":{}}};

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"main\">\n    <div id=banner class=\"banner\" *ngIf=\"showBanner\" [ngClass]=\"{bannerOn: showBanner, bannerOff: !showBanner}\">\n    </div>\n    <div class=\"logo\">\n        <img src=\"../assets/ethereum.png\" class=\"center\"/>\n        <h1 class=\"title\">EthereumVote</h1>\n    </div>\n    <div class=\"content\">\n        <router-outlet></router-outlet>\n    </div>\n    <div class=\"status\">\n        <div class=\"timeline\">\n            <div class=\"state\" [ngClass]=\"{currentState: state==0, completedState: state >= 0}\">\n                <i>Login</i>\n            </div>\n            <div class=\"transistion\" [ngClass]=\"{completedState: state >= 2}\">\n                <i [ngClass]=\"{currentState: state==1}\"></i>\n            </div>\n            <div class=\"state\" [ngClass]=\"{currentState: state==1, completedState: state >= 2}\">\n                <i>Vote</i>\n            </div>\n            <div class=\"transistion\" [ngClass]=\"{completedState: state >= 3}\">\n                <i [ngClass]=\"{currentState: state==2}\"></i>\n            </div>\n            <div id=verify class=\"state\" [ngClass]=\"{currentState: state==2, completedState: state >= 3}\">\n                <i>Verify</i>\n            </div>\n            <div class=\"transistion\">\n                <i [ngClass]=\"{currentState: state==3}\"></i>\n            </div>\n            <div class=\"state\" [ngClass]=\"{currentState: state==3, completedState: state >= 3}\">\n                <i>Results</i>\n            </div>\n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".main {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center; }\n\n.title {\n  color: white;\n  margin-top: 5px;\n  margin-bottom: 30px; }\n\n.logo {\n  flex-direction: column;\n  width: 100%;\n  display: flex;\n  z-index: -1;\n  align-items: center;\n  justify-content: center;\n  color: white; }\n\n.content {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-content: center; }\n\n.status {\n  display: flex;\n  justify-content: center;\n  margin-top: 30px; }\n\n.status .timeline {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    max-width: 500px;\n    width: 80%; }\n\n.status .timeline .state {\n      background-color: white;\n      border-color: white;\n      min-width: 50px;\n      height: 50px;\n      display: flex;\n      border-radius: 50px;\n      padding: 5px;\n      align-items: center;\n      justify-content: space-evenly; }\n\n.status .timeline .state i {\n        font-style: normal; }\n\n.status .timeline .transistion .currentState {\n      -webkit-animation: transitionGrow 1.5s;\n              animation: transitionGrow 1.5s;\n      transform-origin: left;\n      background-color: #303f53 !important;\n      border: 0.1px solid #303f53;\n      z-index: 1;\n      height: 100%;\n      width: 100%; }\n\n.status .timeline .state.currentState {\n      transition: background-color 0.3s, color 0.3s, border-color 0.3s;\n      transition-delay: 1.4s;\n      background-color: #303f53 !important;\n      min-width: 47px;\n      height: 47px;\n      border: 3px solid #FFEB3B;\n      color: white;\n      z-index: 2; }\n\n.status .timeline .completedState {\n      background-color: #303f53 !important;\n      color: white; }\n\n.status .timeline .transistion {\n      background-color: white;\n      width: 100%;\n      height: 5px;\n      display: flex; }\n\n@-webkit-keyframes transitionGrow {\n  from {\n    transform: scale(0, 1); }\n  to {\n    transform: scale(1, 1); } }\n\n@keyframes transitionGrow {\n  from {\n    transform: scale(0, 1); }\n  to {\n    transform: scale(1, 1); } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9haG1lZG11emhlci9iYWNoZWxvcnByb2VmL3BvYy9FdGhlcmV1bVZvdGUvZnJvbnRlbmQvc3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsdUJBQXVCLEVBQUE7O0FBRzNCO0VBQ0ksWUFBWTtFQUNaLGVBQWU7RUFDZixtQkFBbUIsRUFBQTs7QUFHdkI7RUFDSSxzQkFBc0I7RUFDdEIsV0FBVztFQUNYLGFBQWE7RUFDYixXQUFXO0VBQ1gsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixZQUFZLEVBQUE7O0FBR2hCO0VBQ0ksV0FBVztFQUNYLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIscUJBQXFCLEVBQUE7O0FBSXpCO0VBQ0ksYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixnQkFBZ0IsRUFBQTs7QUFIcEI7SUFLUSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsVUFBVSxFQUFBOztBQVRsQjtNQVdZLHVCQUF1QjtNQUN2QixtQkFBbUI7TUFDbkIsZUFBZTtNQUNmLFlBQVk7TUFDWixhQUFhO01BQ2IsbUJBQW1CO01BQ25CLFlBQVk7TUFDWixtQkFBbUI7TUFDbkIsNkJBQTZCLEVBQUE7O0FBbkJ6QztRQXNCZ0Isa0JBQWtCLEVBQUE7O0FBdEJsQztNQTJCWSxzQ0FBOEI7Y0FBOUIsOEJBQThCO01BQzlCLHNCQUFzQjtNQUN0QixvQ0FBb0M7TUFDcEMsMkJBQTJCO01BQzNCLFVBQVU7TUFDVixZQUFZO01BQ1osV0FBVyxFQUFBOztBQWpDdkI7TUFxQ1ksZ0VBQWdFO01BQ2hFLHNCQUFzQjtNQUN0QixvQ0FBb0M7TUFDcEMsZUFBZTtNQUNmLFlBQVk7TUFDWix5QkFBeUI7TUFDekIsWUFBWTtNQUNaLFVBQVUsRUFBQTs7QUE1Q3RCO01BZ0RZLG9DQUFvQztNQUNwQyxZQUFZLEVBQUE7O0FBakR4QjtNQXFEWSx1QkFBdUI7TUFDdkIsV0FBVztNQUNYLFdBQVc7TUFDWCxhQUFhLEVBQUE7O0FBR2pCO0VBQ0k7SUFDSSxzQkFBcUIsRUFBQTtFQUd6QjtJQUNJLHNCQUFxQixFQUFBLEVBQUE7O0FBTjdCO0VBQ0k7SUFDSSxzQkFBcUIsRUFBQTtFQUd6QjtJQUNJLHNCQUFxQixFQUFBLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLnRpdGxle1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBtYXJnaW4tdG9wOiA1cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbn1cblxuLmxvZ28ge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICB6LWluZGV4OiAtMTtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmNvbnRlbnR7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgLy8gbWFyZ2luLWJvdHRvbTogMTAwcHg7XG59XG5cbi5zdGF0dXMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAudGltZWxpbmUge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIG1heC13aWR0aDogNTAwcHg7XG4gICAgICAgIHdpZHRoOiA4MCU7XG4gICAgICAgIC5zdGF0ZSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDUwcHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDVweDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcblxuICAgICAgICAgICAgaSB7XG4gICAgICAgICAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAudHJhbnNpc3Rpb24gLmN1cnJlbnRTdGF0ZSB7XG4gICAgICAgICAgICBhbmltYXRpb246IHRyYW5zaXRpb25Hcm93IDEuNXM7XG4gICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMwM2Y1MyAhaW1wb3J0YW50O1xuICAgICAgICAgICAgYm9yZGVyOiAwLjFweCBzb2xpZCAjMzAzZjUzO1xuICAgICAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgLnN0YXRlLmN1cnJlbnRTdGF0ZSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MsIGNvbG9yIDAuM3MsIGJvcmRlci1jb2xvciAwLjNzO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMS40cztcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMDNmNTMgIWltcG9ydGFudDtcbiAgICAgICAgICAgIG1pbi13aWR0aDogNDdweDtcbiAgICAgICAgICAgIGhlaWdodDogNDdweDtcbiAgICAgICAgICAgIGJvcmRlcjogM3B4IHNvbGlkICNGRkVCM0I7XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICB6LWluZGV4OiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLmNvbXBsZXRlZFN0YXRlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMDNmNTMgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC50cmFuc2lzdGlvbiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiA1cHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgQGtleWZyYW1lcyB0cmFuc2l0aW9uR3Jvd3tcbiAgICAgICAgICAgIGZyb217XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLDEpO1xuICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRve1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSwxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iXX0= */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_services_ethereum_connector_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/services/ethereum-connector.service */ "./src/services/ethereum-connector.service.ts");



var AppComponent = /** @class */ (function () {
    function AppComponent(connector) {
        this.connector = connector;
        this.title = 'EthereumVote';
        this.state = src_services_ethereum_connector_service__WEBPACK_IMPORTED_MODULE_2__["ElectionState"].notloggedin;
    }
    AppComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.connector.start();
        this.connector.state$.subscribe(function (state) {
            console.log(state);
            _this.state = state;
        });
    };
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_services_ethereum_connector_service__WEBPACK_IMPORTED_MODULE_2__["EthereumConnectorService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _components_voting_voting_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/voting/voting.component */ "./src/app/components/voting/voting.component.ts");
/* harmony import */ var _components_results_results_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/results/results.component */ "./src/app/components/results/results.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _components_login_login_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/login/login.component */ "./src/app/components/login/login.component.ts");
/* harmony import */ var _components_verify_verify_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/verify/verify.component */ "./src/app/components/verify/verify.component.ts");










var routes = [
    { path: 'vote', component: _components_voting_voting_component__WEBPACK_IMPORTED_MODULE_4__["VotingComponent"] },
    { path: 'results', component: _components_results_results_component__WEBPACK_IMPORTED_MODULE_5__["ResultsComponent"] },
    { path: 'login', component: _components_login_login_component__WEBPACK_IMPORTED_MODULE_8__["LoginComponent"] },
    { path: 'verify', component: _components_verify_verify_component__WEBPACK_IMPORTED_MODULE_9__["VerifyComponent"] },
    { path: '**', component: _components_login_login_component__WEBPACK_IMPORTED_MODULE_8__["LoginComponent"] }
];
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"],
                _components_voting_voting_component__WEBPACK_IMPORTED_MODULE_4__["VotingComponent"],
                _components_results_results_component__WEBPACK_IMPORTED_MODULE_5__["ResultsComponent"],
                _components_login_login_component__WEBPACK_IMPORTED_MODULE_8__["LoginComponent"],
                _components_verify_verify_component__WEBPACK_IMPORTED_MODULE_9__["VerifyComponent"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"].forRoot(routes),
                _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"]
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/components/login/login.component.html":
/*!*******************************************************!*\
  !*** ./src/app/components/login/login.component.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"card\">\n  <h1>Log into and register your Metamask Account</h1>\n  <!-- <img src=\"../assets/art.png\" class=\"center\"/> -->\n  <div class=\"metamask\">\n      Waiting for login and register...\n  </div>\n<div>"

/***/ }),

/***/ "./src/app/components/login/login.component.scss":
/*!*******************************************************!*\
  !*** ./src/app/components/login/login.component.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".metamask {\n  margin-bottom: 100px;\n  text-align: center; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9haG1lZG11emhlci9iYWNoZWxvcnByb2VmL3BvYy9FdGhlcmV1bVZvdGUvZnJvbnRlbmQvc3JjL2FwcC9jb21wb25lbnRzL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksb0JBQW9CO0VBQ3BCLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZXRhbWFzayB7XG4gICAgbWFyZ2luLWJvdHRvbTogMTAwcHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/components/login/login.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/login/login.component.ts ***!
  \*****************************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_services_ethereum_connector_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/services/ethereum-connector.service */ "./src/services/ethereum-connector.service.ts");



var LoginComponent = /** @class */ (function () {
    function LoginComponent(connector) {
        this.connector = connector;
    }
    LoginComponent.prototype.ngOnInit = function () {
    };
    LoginComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/components/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.scss */ "./src/app/components/login/login.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_services_ethereum_connector_service__WEBPACK_IMPORTED_MODULE_2__["EthereumConnectorService"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/components/results/results.component.html":
/*!***********************************************************!*\
  !*** ./src/app/components/results/results.component.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "  <div class=\"card\">\n    <h1>Does Pineapple go on pizza?</h1>\n    <!-- <img src=\"../assets/art.png\" class=\"center\"/> -->\n    <form>\n        <ng-container *ngIf=\"votes && totalVotes() > 0; else noVotesYet;\">\n          <h1>Results:</h1>\n        </ng-container>\n          <div class=\"votes\">\n            <div class=\"yes transistion\" [ngStyle]=\"{width: 'calc('+percentage('Yes')+' - 30px)'}\">\n              Yes\n            </div>\n            <i class=\"percentage\">\n                {{displayPercentage[0]}}%\n            </i>\n          </div>\n          <div class=\"votes\">\n            <div class=\"no transistion\" [ngStyle]=\"{width: 'calc('+percentage('No')+' - 30px)'}\">\n              No\n            </div>\n            <i class=\"percentage\">\n                {{displayPercentage[1]}}%\n            </i>\n          </div>\n          <div class=\"center total\">{{totalVotes(votes)}} votes</div>\n        <ng-template #fetchingVotes>\n            <p class=\"center space-bottom\">Fetching votes...</p>\n        </ng-template>\n    </form>\n  <div>"

/***/ }),

/***/ "./src/app/components/results/results.component.scss":
/*!***********************************************************!*\
  !*** ./src/app/components/results/results.component.scss ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".votes {\n  display: flex;\n  margin-bottom: 15px; }\n  .votes .transistion {\n    transition: width 1s ease-in; }\n  .votes .percentage {\n    padding: 15px;\n    font-style: normal; }\n  .votes .yes {\n    background-color: #2196F3;\n    background: linear-gradient(to bottom right, #2196F3, #005aa3); }\n  .votes .no {\n    transition-delay: 0.5s;\n    background-color: #f44336d4;\n    background: linear-gradient(to bottom right, #F44336, #f443366e); }\n  .votes .yes, .votes .no {\n    color: white;\n    padding: 15px;\n    padding-right: 25px;\n    min-width: 4%;\n    border-radius: 20px 20px 20px 0;\n    width: 0px; }\n  .total {\n  width: 100%;\n  align-self: center;\n  text-align: center;\n  margin-top: 30px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9haG1lZG11emhlci9iYWNoZWxvcnByb2VmL3BvYy9FdGhlcmV1bVZvdGUvZnJvbnRlbmQvc3JjL2FwcC9jb21wb25lbnRzL3Jlc3VsdHMvcmVzdWx0cy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQWE7RUFDYixtQkFBbUIsRUFBQTtFQUZ2QjtJQUtRLDRCQUE0QixFQUFBO0VBTHBDO0lBU1EsYUFBYTtJQUNiLGtCQUFrQixFQUFBO0VBVjFCO0lBY1EseUJBQXlCO0lBQ3pCLDhEQUFzRSxFQUFBO0VBZjlFO0lBbUJRLHNCQUFzQjtJQUN0QiwyQkFBMkI7SUFDM0IsZ0VBQWdFLEVBQUE7RUFyQnhFO0lBeUJRLFlBQVk7SUFDWixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGFBQWE7SUFDYiwrQkFBK0I7SUFDL0IsVUFBVSxFQUFBO0VBS2xCO0VBQ0ksV0FBVztFQUNYLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3Jlc3VsdHMvcmVzdWx0cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi52b3RlcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuXG4gICAgLnRyYW5zaXN0aW9uIHtcbiAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggMXMgZWFzZS1pbjtcbiAgICB9XG5cbiAgICAucGVyY2VudGFnZSB7XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICB9XG4gICAgXG4gICAgLnllcyB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMTk2RjM7XG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20gcmlnaHQsICMyMTk2RjMsIHJnYigwLCA5MCwgMTYzKSk7XG4gICAgfVxuICAgIFxuICAgIC5ubyB7XG4gICAgICAgIHRyYW5zaXRpb24tZGVsYXk6IDAuNXM7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNDQzMzZkNDtcbiAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSByaWdodCwgI0Y0NDMzNiwgI2Y0NDMzNjZlKTtcbiAgICB9XG5cbiAgICAueWVzLCAubm8ge1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDI1cHg7XG4gICAgICAgIG1pbi13aWR0aDogNCU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHggMjBweCAyMHB4IDA7XG4gICAgICAgIHdpZHRoOiAwcHg7XG4gICAgfVxuXG59XG5cbi50b3RhbCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiAzMHB4O1xufVxuXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/results/results.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/components/results/results.component.ts ***!
  \*********************************************************/
/*! exports provided: ResultsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultsComponent", function() { return ResultsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_services_ethereum_connector_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/services/ethereum-connector.service */ "./src/services/ethereum-connector.service.ts");



var ResultsComponent = /** @class */ (function () {
    function ResultsComponent(connector) {
        this.connector = connector;
        this.displayPercentage = [0, 0];
    }
    ResultsComponent.prototype.totalVotes = function (votes) {
        if (votes) {
            return Array.from(votes.values()).reduce(function (sum, current) { return sum + current; });
        }
        return 0;
    };
    ResultsComponent.prototype.percentage = function (voteId) {
        if (this.votes) {
            var votes = this.votes.get(voteId);
            var totalVotes = this.totalVotes(this.votes);
            return totalVotes !== 0 ? Math.round((votes / totalVotes) * 100) + "%" : '...';
        }
    };
    ResultsComponent.prototype.percentageAnimation = function (voteId, newvotes, delay) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.votes) {
                console.log('zero set');
                var votes = _this.votes.get(voteId);
                var totalVotes = _this.totalVotes(_this.votes);
                _this.displayPercentage[(voteId === 'Yes' ? 0 : 1)] = Math.round((votes / totalVotes) * 100);
            }
            var newVotes = newvotes.get(voteId);
            var newTotalVotes = _this.totalVotes(newvotes);
            var newPercentage = Math.round((newVotes / newTotalVotes) * 100);
            var diff = newPercentage - _this.displayPercentage[(voteId === 'Yes' ? 0 : 1)];
            console.log(_this.displayPercentage);
            var delaying = setTimeout(function () {
                if (diff > 0) {
                    var me1_1 = setInterval(function () {
                        console.log('time');
                        var array = _this.displayPercentage.slice();
                        array[(voteId === 'Yes' ? 0 : 1)] += 1;
                        console.log(array[(voteId === 'Yes' ? 0 : 1)]);
                        _this.displayPercentage = array.slice();
                        if (_this.displayPercentage[(voteId === 'Yes' ? 0 : 1)] === newPercentage) {
                            clearInterval(me1_1);
                        }
                    }, 1000 / newPercentage);
                }
                if (diff < 0) {
                    var me2_1 = setInterval(function () {
                        console.log('time');
                        var array = _this.displayPercentage.slice();
                        array[(voteId === 'Yes' ? 0 : 1)] -= 1;
                        _this.displayPercentage = array.slice();
                        if (_this.displayPercentage[(voteId === 'Yes' ? 0 : 1)] === newPercentage) {
                            clearInterval(me2_1);
                        }
                    }, 1000 / newPercentage);
                }
                console.log('resolve');
                clearTimeout(delaying);
            }, delay);
            resolve();
        });
    };
    ResultsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.connector.getVotes();
        this.connector.votes$.subscribe(function (votes) {
            if (_this.totalVotes(votes) !== _this.totalVotes(_this.votes)) {
                Promise.all([_this.percentageAnimation('Yes', votes, 400), _this.percentageAnimation('No', votes, 700)])
                    .then(function () {
                    _this.votes = votes;
                });
            }
        });
    };
    ResultsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-results',
            template: __webpack_require__(/*! ./results.component.html */ "./src/app/components/results/results.component.html"),
            styles: [__webpack_require__(/*! ./results.component.scss */ "./src/app/components/results/results.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_services_ethereum_connector_service__WEBPACK_IMPORTED_MODULE_2__["EthereumConnectorService"]])
    ], ResultsComponent);
    return ResultsComponent;
}());



/***/ }),

/***/ "./src/app/components/verify/verify.component.html":
/*!*********************************************************!*\
  !*** ./src/app/components/verify/verify.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"card\">\n    <h1>Does Pineapple go on pizza?</h1>\n    <!-- <img src=\"../assets/art.png\" class=\"center\"/> -->\n    <div class=\"verify\">\n        Verifying your vote...\n    </div>\n<div>\n"

/***/ }),

/***/ "./src/app/components/verify/verify.component.scss":
/*!*********************************************************!*\
  !*** ./src/app/components/verify/verify.component.scss ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".verify {\n  margin-bottom: 100px;\n  text-align: center; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9haG1lZG11emhlci9iYWNoZWxvcnByb2VmL3BvYy9FdGhlcmV1bVZvdGUvZnJvbnRlbmQvc3JjL2FwcC9jb21wb25lbnRzL3ZlcmlmeS92ZXJpZnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxvQkFBb0I7RUFDcEIsa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3ZlcmlmeS92ZXJpZnkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudmVyaWZ5IHtcbiAgICBtYXJnaW4tYm90dG9tOiAxMDBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */"

/***/ }),

/***/ "./src/app/components/verify/verify.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/verify/verify.component.ts ***!
  \*******************************************************/
/*! exports provided: VerifyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VerifyComponent", function() { return VerifyComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var VerifyComponent = /** @class */ (function () {
    function VerifyComponent() {
    }
    VerifyComponent.prototype.ngOnInit = function () {
    };
    VerifyComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-verify',
            template: __webpack_require__(/*! ./verify.component.html */ "./src/app/components/verify/verify.component.html"),
            styles: [__webpack_require__(/*! ./verify.component.scss */ "./src/app/components/verify/verify.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], VerifyComponent);
    return VerifyComponent;
}());



/***/ }),

/***/ "./src/app/components/voting/voting.component.html":
/*!*********************************************************!*\
  !*** ./src/app/components/voting/voting.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "  <div class=\"card\">\n    <h1>Does Pineapple go on pizza?</h1>\n    <!-- <img src=\"../assets/art.png\" class=\"center\"/> -->\n    <form  *ngIf=\"candidates\" [formGroup]=\"form\" (ngSubmit)=\"vote()\">\n        <p *ngFor=\"let candidate of candidates\">\n          <input [id]=\"candidate.id\" type=\"radio\" formControlName=\"answer\" [value]=\"candidate.id\"/>\n          <label [for]=\"candidate.id\">{{candidate.name}}</label>\n        </p>\n        <p class=\"center\">\n          <button type=\"submit\" class=\"vote-button\" [disabled]=\"form.get('answer').value==null\">Vote</button>\n        </p>\n    </form>\n  <div>\n"

/***/ }),

/***/ "./src/app/components/voting/voting.component.scss":
/*!*********************************************************!*\
  !*** ./src/app/components/voting/voting.component.scss ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".vote-button {\n  text-transform: uppercase;\n  font-family: monospace;\n  font-size: 15px;\n  padding: 1em;\n  width: 100px;\n  border-radius: 3em;\n  background-color: #1c4f8a;\n  border-color: #1c4f8a;\n  outline: none;\n  color: white; }\n  .vote-button:hover {\n    background-color: #153c69;\n    border-color: #153c69; }\n  .vote-button:disabled, .vote-button[disabled] {\n    background-color: #9da9af; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9haG1lZG11emhlci9iYWNoZWxvcnByb2VmL3BvYy9FdGhlcmV1bVZvdGUvZnJvbnRlbmQvc3JjL2FwcC9jb21wb25lbnRzL3ZvdGluZy92b3RpbmcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBeUI7RUFDekIsc0JBQXNCO0VBQ3RCLGVBQWU7RUFDZixZQUFZO0VBQ1osWUFBWTtFQUNaLGtCQUFrQjtFQUNsQix5QkFBa0M7RUFDbEMscUJBQThCO0VBQzlCLGFBQWE7RUFDYixZQUFZLEVBQUE7RUFWaEI7SUFZUSx5QkFBa0M7SUFDbEMscUJBQThCLEVBQUE7RUFidEM7SUFrQkkseUJBQXlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3ZvdGluZy92b3RpbmcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudm90ZS1idXR0b24ge1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbiAgICBmb250LXNpemU6IDE1cHg7XG4gICAgcGFkZGluZzogMWVtO1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBib3JkZXItcmFkaXVzOiAzZW07XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI4LCA3OSwgMTM4KTtcbiAgICBib3JkZXItY29sb3I6IHJnYigyOCwgNzksIDEzOCk7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMSwgNjAsIDEwNSk7XG4gICAgICAgIGJvcmRlci1jb2xvcjogcmdiKDIxLCA2MCwgMTA1KTtcbiAgICB9XG5cbiAgICAmOmRpc2FibGVkLFxuICAgICZbZGlzYWJsZWRde1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM5ZGE5YWY7XG5cbiAgICBcbn1cbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/voting/voting.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/voting/voting.component.ts ***!
  \*******************************************************/
/*! exports provided: VotingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VotingComponent", function() { return VotingComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_services_ethereum_connector_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/services/ethereum-connector.service */ "./src/services/ethereum-connector.service.ts");




var VotingComponent = /** @class */ (function () {
    function VotingComponent(connector) {
        this.connector = connector;
        this.form = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({
            answer: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]()
        }, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]);
        this.voted = false;
    }
    VotingComponent.prototype.vote = function () {
        this.connector.vote(this.form.get('answer').value);
    };
    VotingComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.connector.getCandidates();
        this.connector.candidates$.subscribe(function (candidates) {
            _this.candidates = [];
            candidates.forEach(function (name, id) {
                _this.candidates.push({ id: id, name: name });
            });
        });
    };
    VotingComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-voting',
            template: __webpack_require__(/*! ./voting.component.html */ "./src/app/components/voting/voting.component.html"),
            styles: [__webpack_require__(/*! ./voting.component.scss */ "./src/app/components/voting/voting.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_services_ethereum_connector_service__WEBPACK_IMPORTED_MODULE_3__["EthereumConnectorService"]])
    ], VotingComponent);
    return VotingComponent;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.error(err); });


/***/ }),

/***/ "./src/services/ethereum-connector.service.ts":
/*!****************************************************!*\
  !*** ./src/services/ethereum-connector.service.ts ***!
  \****************************************************/
/*! exports provided: EthereumConnectorService, ElectionState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EthereumConnectorService", function() { return EthereumConnectorService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ElectionState", function() { return ElectionState; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var truffle_contract__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! truffle-contract */ "./node_modules/truffle-contract/index.js");
/* harmony import */ var truffle_contract__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(truffle_contract__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");





var Web3 = __webpack_require__(/*! web3 */ "./node_modules/web3/src/index.js");
var tokenAbi = __webpack_require__(/*! ../../../backend/build/contracts/Election.json */ "../backend/build/contracts/Election.json");
var EthereumConnectorService = /** @class */ (function () {
    function EthereumConnectorService(router) {
        var _this = this;
        this.router = router;
        this.account$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.votes = new Map();
        this.votes$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.candidates = new Map();
        this.candidates$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.refreshVotes$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["timer"])(0, 2000);
        this.state$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.error$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        if (typeof window.web3 !== 'undefined') {
            this.web3Provider = window.web3.currentProvider;
        }
        else {
            if (!Web3.currentProvider) {
                this.web3Provider = new Web3.providers.HttpProvider('http://localhost:7545');
            }
        }
        window.ethereum.enable();
        window.web3 = new Web3(this.web3Provider);
        window.web3.currentProvider.publicConfigStore.on('update', function (obj) {
            if (obj.selectedAddress !== _this.account) {
                _this.account$.next(obj.selectedAddress);
            }
        });
        this.state = ElectionState.notloggedin;
        this.state$.next(this.state);
        this.state$.subscribe(function (state) {
            var route;
            switch (state) {
                case ElectionState.notloggedin:
                    route = 'login';
                    _this.register();
                    break;
                case ElectionState.loggedin:
                    route = 'vote';
                    break;
                case ElectionState.voted:
                    route = 'verify';
                    break;
                case ElectionState.verified:
                    route = 'results';
                    break;
            }
            _this.router.navigateByUrl("/" + route);
        });
        this.account$.subscribe(function (account) {
            if (document.hidden && _this.state === ElectionState.verified) {
            }
            else {
                if (_this.account !== account) {
                    console.log('acount sub called');
                    _this.state = ElectionState.notloggedin;
                    _this.state$.next(_this.state);
                }
                _this.account = account;
            }
        });
    }
    EthereumConnectorService.prototype.getAccountInfo = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            window.web3.eth.getCoinbase(function (err, account) {
                if (err === null && account !== null) {
                    _this.account = account;
                    window.web3.eth.getBalance(account, function (error, balance) {
                        if (error === null && balance > 0) {
                            return resolve();
                        }
                        else {
                            return reject();
                        }
                    });
                }
                else {
                    return reject();
                }
            });
        });
    };
    EthereumConnectorService.prototype.register = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            console.log('start 1');
            return _this.truffleContract.deployed().then(function (instance) {
                _this.electionInstance = instance;
                return _this.getAccountInfo();
            }).then(function () {
                console.log('start 2');
                console.log(_this.account);
                return _this.electionInstance.hasRegistered({ from: _this.account });
            }).then(function (registered) {
                console.log('start 3');
                if (registered) {
                    console.log('stop 1');
                    _this.state = ElectionState.loggedin;
                    _this.state$.next(_this.state);
                    throw Error('already registered');
                }
                console.log('not registered yet');
            }).then(function () {
                console.log('start 4');
                _this.votingKey = (Math.floor(Math.random() * 1) + 1).toString();
                console.log(_this.votingKey);
                var votingKeyHash = window.web3.sha3(12);
                console.log(typeof window.web3.sha3(_this.votingKey));
                console.log('=>', window.web3.utils.sha3(_this.votingKey));
                console.log(_this.account);
                return _this.electionInstance.register(window.web3.sha3(_this.votingKey), { from: _this.account })
                    .then(function () {
                    console.log('start 5');
                    _this.state = ElectionState.loggedin;
                    _this.state$.next(_this.state);
                }).catch(function (error) {
                    console.log(error);
                });
            }).then(function () {
                resolve();
            }).catch(function (error) {
                _this.error$.next(error);
                reject(error);
            });
        }).catch(function (error) {
            if (error === 'already registered') {
                console.log(error);
            }
            _this.error$.next(error);
        });
    };
    EthereumConnectorService.prototype.findEachCandidateVotes = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var promises = [];
            for (var i = 1; i <= _this.candidatesCounter.toNumber(); i++) {
                promises[i] = _this.electionInstance.candidates(i).then(function (candidate) {
                    _this.votes.set(candidate[1], candidate[2].toNumber());
                });
            }
            Promise.all(promises).then(function () {
                resolve();
            });
        });
    };
    EthereumConnectorService.prototype.findEachCandidateIds = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var promises = [];
            for (var i = 1; i <= _this.candidatesCounter.toNumber(); i++) {
                promises[i] = _this.electionInstance.candidates(i).then(function (candidate) {
                    _this.candidates.set(candidate[0].toNumber(), candidate[1]);
                });
            }
            Promise.all(promises).then(function () {
                resolve();
            });
        });
    };
    EthereumConnectorService.prototype.vote = function (candidate) {
        var _this = this;
        this.state = ElectionState.voted;
        this.state$.next(this.state);
        this.checkVotedYet().then(function () {
            if (_this.state.valueOf() < ElectionState.verified.valueOf()) {
                _this.truffleContract.deployed().then(function (instance) {
                    _this.electionInstance = instance;
                }).then(function () {
                    return _this.getAccountInfo();
                }).then(function () {
                    return _this.electionInstance.hasRegistered({ from: _this.account });
                }).then(function (registered) {
                    if (!registered) {
                        throw Error('not registered');
                    }
                    return _this.electionInstance.hasVoted({ from: _this.account });
                }).then(function (voted) {
                    if (voted) {
                        throw Error('already voted');
                    }
                    _this.state = ElectionState.voted;
                    _this.state$.next(_this.state);
                    console.log(_this.votingKey, '<===');
                    return _this.electionInstance.vote(candidate, _this.votingKey, { from: _this.account });
                }).then(function () {
                    _this.state = ElectionState.verified;
                    _this.state$.next(_this.state);
                }).catch(function (error) {
                    console.log(error);
                });
            }
        });
    };
    EthereumConnectorService.prototype.checkVotedYet = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            return _this.truffleContract.deployed().then(function (instance) {
                _this.electionInstance = instance;
                return _this.electionInstance.hasVoted({ from: _this.account });
            }).then(function (voted) {
                if (voted) {
                    setTimeout(function () {
                        window.alert('It seems you have already voted!');
                        _this.state = ElectionState.verified;
                        _this.state$.next(_this.state);
                    }, 2000);
                }
            }).then(function () {
                resolve();
            }).catch(function (error) {
                _this.error$.next(error);
                reject();
            });
        });
    };
    EthereumConnectorService.prototype.getVotes = function () {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function () {
            var _this = this;
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                this.truffleContract.deployed().then(function (instance) {
                    _this.electionInstance = instance;
                    return _this.electionInstance.candidatesCounter();
                }).then(function (candidatesCounter) {
                    _this.candidatesCounter = candidatesCounter;
                    return _this.findEachCandidateVotes();
                }).then(function () {
                    _this.votes$.next(_this.votes);
                }).catch(function (error) {
                    _this.error$.next(error);
                    console.log(error);
                });
                return [2 /*return*/];
            });
        });
    };
    EthereumConnectorService.prototype.getCandidates = function () {
        var _this = this;
        this.truffleContract.deployed().then(function (instance) {
            _this.electionInstance = instance;
            return _this.electionInstance.candidatesCounter();
        }).then(function (candidatesCounter) {
            _this.candidatesCounter = candidatesCounter;
            return _this.findEachCandidateIds();
        }).then(function () {
            _this.candidates$.next(_this.candidates);
        }).catch(function (error) {
            _this.error$.next(error);
            console.log(error);
        });
    };
    Object.defineProperty(EthereumConnectorService.prototype, "truffleContract", {
        get: function () {
            if (!this.contract) {
                var contract = truffle_contract__WEBPACK_IMPORTED_MODULE_3__(tokenAbi);
                contract.setProvider(this.web3Provider);
                this.contract = contract;
            }
            return this.contract;
        },
        enumerable: true,
        configurable: true
    });
    EthereumConnectorService.prototype.start = function () {
        var _this = this;
        this.getCandidates();
        this.getAccountInfo().catch();
        this.refreshVotes$.subscribe(function () {
            _this.getVotes().catch();
        });
    };
    EthereumConnectorService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]])
    ], EthereumConnectorService);
    return EthereumConnectorService;
}());

var ElectionState;
(function (ElectionState) {
    ElectionState[ElectionState["notloggedin"] = 0] = "notloggedin";
    ElectionState[ElectionState["loggedin"] = 1] = "loggedin";
    ElectionState[ElectionState["voted"] = 2] = "voted";
    ElectionState[ElectionState["verified"] = 3] = "verified";
})(ElectionState || (ElectionState = {}));


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/ahmedmuzher/bachelorproef/poc/EthereumVote/frontend/src/main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 4:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map